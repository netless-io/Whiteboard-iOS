(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(e,t){},1:function(e,t){},2:function(e,t){},"2YZa":function(e,t,r){"use strict";r.r(t);r("pNMO"),r("4Brf"),r("tjZM"),r("3I1R"),r("7+kd"),r("0oug"),r("KhsS"),r("gOCb"),r("a57n"),r("GXvd"),r("I1Gw"),r("gXIK"),r("lEou"),r("gbiT"),r("ma9I"),r("qHT+"),r("yyme"),r("TeQF"),r("fbCW"),r("x0AG"),r("BIHw"),r("XbcX"),r("pjDv"),r("yq1k"),r("yXV3"),r("4mDm"),r("uqXc"),r("2B1R"),r("Xe3L"),r("Junv"),r("+2oP"),r("ToJy"),r("94Xl"),r("pDQq"),r("QGkA"),r("c9m3"),r("wZ/5"),r("gtqK"),r("rOQg"),r("9LPj"),r("7+zs"),r("tW5y"),r("DEfu"),r("Tskq"),r("Uydy"),r("eajv"),r("n/mU"),r("PqOI"),r("QNnp"),r("/5zm"),r("CsgD"),r("9mRW"),r("QFcT"),r("a5NK"),r("yiG3"),r("kNcU"),r("KvGi"),r("AmFO"),r("eJiR"),r("I9xj"),r("tl/u"),r("qePV"),r("NbN+"),r("i6QF"),r("WDsR"),r("r/Vq"),r("5uH8"),r("w1rZ"),r("JevA"),r("zKZe"),r("Eqjn"),r("5xtp"),r("T63A"),r("3KgV"),r("wfmh"),r("5DmW"),r("27RR"),r("cDke"),r("NBAS"),r("yQYn"),r("4h0Y"),r("5D5o"),r("tkto"),r("v5b1"),r("W/eh"),r("zuhW"),r("r5Og"),r("ExoC"),r("07d7"),r("B6y2"),r("rNhl"),r("4l63"),r("5s+n"),r("p532"),r("pv2x"),r("SuFq"),r("PzqY"),r("rBZX"),r("XUE8"),r("nkod"),r("f3jH"),r("x2An"),r("25bX"),r("G/JM"),r("1t3B"),r("ftMj"),r("i5pp"),r("TWNs"),r("U3f4"),r("JfAA"),r("YGK4"),r("9bJ7"),r("inlA"),r("9tb/"),r("JTJg"),r("PKPk"),r("Rm1S"),r("hDyC"),r("TZCg"),r("2A+d"),r("OM9Z"),r("UxlC"),r("hByQ"),r("EnZy"),r("LKBx"),r("SYor"),r("HiXI"),r("7ueG"),r("z8NH"),r("SpvK"),r("/Yfv"),r("iwkZ"),r("FDzp"),r("XMab"),r("ilnZ"),r("hMMk"),r("+ywr"),r("moxL"),r("qXVe"),r("c162"),r("waxf"),r("0TkE"),r("Onu3"),r("1dYe"),r("IL/d"),r("gvgV"),r("6R/c"),r("YL0P"),r("X5Zq"),r("MoCz"),r("P8wP"),r("7JcK"),r("ypFw"),r("JaFt"),r("zSZm"),r("KVSy"),r("ZJ55"),r("IZzc"),r("s5qe"),r("cvf0"),r("ENF9"),r("H+LF"),r("FZtP"),r("3bBZ"),r("Ew+T"),r("n5b4"),r("Kz25"),r("vxnP"),r("mGGf"),r("ls82"),r("bZMm");var n,o=r("q1tI"),i=r("i8i4"),a=r("dSAS"),c=r.n(a),s=r("AitN");function l(e){if(e)return{centerX:e.centerX,centerY:e.centerY,width:e.width,height:e.height,maxContentMode:u(e.maxContentMode),minContentMode:u(e.minContentMode)}}function u(e){if(e){var t=e.scale?e.scale:1,r=e.space?e.space:0;n.Scale;switch("string"==typeof e.mode?parseInt(n[e.mode]):e.mode){case n.Scale:return Object(s.contentModeScale)(t);case n.AspectFill:return Object(s.contentModeAspectFill)();case n.AspectFillScale:return Object(s.contentModeAspectFillScale)(t);case n.AspectFit:return Object(s.contentModeAspectFit)();case n.AspectFitScale:return Object(s.contentModeAspectFitScale)(t);case n.AspectFitSpace:return Object(s.contentModeAspectFitSpace)(r);default:return}}}!function(e){e[e.Scale=0]="Scale",e[e.AspectFit=1]="AspectFit",e[e.AspectFitScale=2]="AspectFitScale",e[e.AspectFitSpace=3]="AspectFitSpace",e[e.AspectFill=4]="AspectFill",e[e.AspectFillScale=5]="AspectFillScale"}(n||(n={}));var f=r("wOnQ"),p=r.n(f);function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){return void 0===e.roomUUID}var g=function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.displayer=t,this.logger=r,d(this,"setCameraBound",(function(e){n.logger("setCameraBound nativeBound",e);var t=l(e);n.logger("setCameraBound bound",t),n.displayer.setCameraBound(t)})),d(this,"pageCover",(function(e,t){n.screenshot(e,n.displayer.fillSceneSnapshot.bind(n.displayer),t)})),d(this,"pagePreview",(function(e,t){n.screenshot(e,n.displayer.scenePreview.bind(n.displayer),t)})),d(this,"screenshot",(function(e,t,r){var n=document.createElement("div");n.setAttribute("class","shadow"),document.body.appendChild(n),t(e,n,n.clientWidth,n.clientHeight),p()(n,{useCORS:!0,onclone:function(e){Array.from(e.getElementsByTagName("svg")).forEach((function(e){e.setAttribute("width","".concat(e.clientWidth)),e.setAttribute("height","".concat(e.clientHeight))}))}}).then((function(e){window.canvas=e;var t=e.toDataURL();document.body.removeChild(n),r(t)}))})),c.a.register("displayer",{setDisableCameraTransform:function(e){t.disableCameraTransform=e},getDisableCameraTransform:function(){return t.disableCameraTransform},setCameraBound:this.setCameraBound,getMemberState:function(e){return JSON.stringify(t.memberState(e))},scenePathType:function(e){return t.scenePathType(e)},entireScenes:function(){return t.entireScenes()},moveCamera:function(e){n.logger("moveCamera: ",e),n.displayer.moveCamera(e)},moveCameraToContain:function(e){n.logger("moveCameraToContain: ",e),n.displayer.moveCameraToContain(e)},refreshViewSize:function(){n.logger("refreshViewSize"),n.displayer.refreshViewSize()},scalePptToFit:function(e){n.logger("scalePptToFit",e),n.displayer.scalePptToFit(e)},convertToPointInWorld:function(e,t){return n.logger("convertToPointInWorld",e,t),n.displayer.convertToPointInWorld({x:e,y:t})},setBackgroundColor:function(e,t,r,o){var i=document.getElementById("whiteboard-container");n.logger("setBackgroundColor native",e,t,r,o);var a="rgb(".concat(e,", ").concat(t,", ").concat(r,")");n.logger("setBackgroundColor color",a),i.style.background=a},addHighFrequencyEventListener:function(e,t){n.logger("addHighFrequencyEventListener",e,t),n.displayer.addMagixEventListener(e,(function(e){var t=n.displayer.uuid||n.displayer.roomUUID,r=e.map((function(e){return{uuid:t,eventName:e.event,payload:e.payload,scope:e.scope,authorId:e.authorId}}));m(n.displayer)?c.a.call("room.fireHighFrequencyEvent",JSON.stringify(r)):c.a.call("player.fireHighFrequencyEvent",JSON.stringify(r))}),t)},addMagixEventListener:function(e){n.logger("addMagixEventListener",e),n.displayer.addMagixEventListener(e,(function(e){n.logger("fireMagixEvent",e);var t={uuid:n.displayer.uuid||n.displayer.roomUUID,eventName:e.event,payload:e.payload,scope:e.scope,authorId:e.authorId};m(n.displayer)?c.a.call("room.fireMagixEvent",JSON.stringify(t)):c.a.call("player.fireMagixEvent",JSON.stringify(t))}))},removeMagixEventListener:function(e){n.logger("removeMagixEventListener",e),n.displayer.removeMagixEventListener(e)}}),c.a.registerAsyn("displayerAsync",{scenePreview:this.pagePreview,sceneSnapshot:this.pageCover}),window.html2canvas=p.a,window.displayerBridge=this};function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){var t,r,n;function o(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(r=b(this,h(o).call(this,e,t))).room=e,r.logger=t,c.a.register("ppt",{nextStep:function(){r.logger("nextStep"),r.room.pptNextStep()},previousStep:function(){r.logger("previousStep"),r.room.pptPreviousStep()}}),c.a.registerAsyn("room",{setGlobalState:function(e){r.logger("setGlobalState",e),r.room.setGlobalState(e)},setScenePath:function(e,t){try{r.logger("setScenePath",e),r.room.setScenePath(e),t(JSON.stringify({}))}catch(e){return t(JSON.stringify({__error:{message:e.message,jsStack:e.stack}}))}},setMemberState:function(e){r.logger("setMemberState",e),r.room.setMemberState(e)},setViewMode:function(e){var t=s.ViewMode[e];void 0===t&&(t=s.ViewMode.Freedom),r.logger("setViewMode",{viewMode:e,mode:t}),r.room.setViewMode(t)},setWritable:function(e,t){r.room.setWritable(e).then((function(){t(JSON.stringify({isWritable:r.room.isWritable,observerId:r.room.observerId}))})).catch((function(e){t(JSON.stringify({__error:{message:e.message,jsStack:e.stack}}))}))},getMemberState:function(e){return r.logger("getMemberState",r.room.state.memberState),e(JSON.stringify(r.room.state.memberState))},getGlobalState:function(e){return r.logger("getGlobalState",r.room.state.globalState),e(JSON.stringify(r.room.state.globalState))},getSceneState:function(e){return r.logger("getSceneState",r.room.state.sceneState),e(JSON.stringify(r.room.state.sceneState))},getRoomMembers:function(e){return r.logger("getRoomMembers",r.room.state.roomMembers),e(JSON.stringify(r.room.state.roomMembers))},getPptImages:function(e){var t=r.room.state.sceneState.scenes.map((function(e){return e.ppt?e.ppt.src:""}));return e(JSON.stringify(t))},setSceneIndex:function(e,t){r.logger("setSceneIndex",e);try{r.room.setSceneIndex(e),t(JSON.stringify({}))}catch(e){t(JSON.stringify({__error:{message:e.message,jsStack:e.stack}}))}},getScenes:function(e){return r.logger("getScenes",r.room.state.sceneState.scenes),e(JSON.stringify(r.room.state.sceneState.scenes))},getZoomScale:function(e){return r.logger("getZoomScale",r.room.state.zoomScale),e(JSON.stringify(r.room.state.zoomScale))},getBroadcastState:function(e){return r.logger("getBroadcastState",r.room.state.zoomScale),e(JSON.stringify(r.room.state.broadcastState))},getRoomPhase:function(e){return r.logger("getRoomPhase",JSON.stringify(r.room.phase)),e(r.room.phase)},disconnect:function(e){r.room.disconnect().then((function(){e()}))},zoomChange:function(e){r.logger("zoomChange"),r.room.zoomChange(e)},disableCameraTransform:function(e){r.logger("disableCameraTransform",e),r.room.disableCameraTransform=e},disableDeviceInputs:function(e){r.logger("disableDeviceInputs",e),r.room.disableDeviceInputs=e},disableOperations:function(e){r.logger("disableOperations",e),r.room.disableOperations=e},putScenes:function(e,t,n,o){r.logger("putScenes",t),r.room.putScenes(e,t,n),o(JSON.stringify(r.room.state.sceneState))},removeScenes:function(e){r.logger("removeScenes",e),r.room.removeScenes(e)},moveScene:function(e,t){r.logger("moveScene",e,t),r.room.moveScene(e,t)},cleanScene:function(e){var t;t=void 0!==e&&!!e,r.logger("cleanScene",e),r.cleanCurrentScene(t)},insertImage:function(e){r.logger("insertImage",e),r.room.insertImage(e)},insertVideo:function(e){r.logger("insertVideo",e)},completeImageUpload:function(e,t){r.logger("completeImageUpload",e,t),r.room.completeImageUpload(e,t)},dispatchMagixEvent:function(e){r.logger("dispatchMagixEvent",e),r.room.dispatchMagixEvent(e.eventName,e.payload)},setTimeDelay:function(e){r.logger("setTimeDelay",e),r.room.timeDelay=e}}),c.a.register("room.state",{getRoomState:function(){return r.room.state},getTimeDelay:function(){return r.room.timeDelay},getPhase:function(){return r.room.phase},isWritable:function(){return r.room.isWritable},debugInfo:function(){try{var e=r.room.screen,t=e.camera,n=e.visionRectangle,o=e.adaptedRectangle,i=e.divElement;return{camera:t,visionRectangle:n,adaptedRectangle:o,divWidth:i.clientWidth,divHeight:i.clientHeight}}catch(e){return{error:e.message}}}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(o,e),t=o,(r=[{key:"bindHtmlElement",value:function(e){this.room.bindHtmlElement(e)}},{key:"cleanCurrentScene",value:function(e){var t=this.room.state.sceneState,r={name:t.scenes[t.index].name,ppt:e?t.scenes[t.index].ppt:void 0},n=t.scenePath.split("/");n.pop();var o=n.join("/");this.room.putScenes(o,[r],t.index),this.room.setScenePath(t.scenePath)}}])&&v(t.prototype,r),n&&v(t,n),o}(g);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){var t,r,n;function o(e,t){var r,n,i,a,s,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=this,i=C(o).call(this,e,t),(r=!i||"object"!==O(i)&&"function"!=typeof i?k(n):i).player=e,r.logger=t,a=k(r),l=function(){try{r.logger("stop"),r.player.stop()}catch(e){console.log("stop:",e.message)}},(s="stop")in a?Object.defineProperty(a,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[s]=l,c.a.registerAsyn("player",{play:function(){r.logger("play"),r.player.play()},pause:function(){r.logger("pause"),r.player.pause()},stop:function(){r.logger("stop"),r.player.stop()},seekToScheduleTime:function(e){r.logger("seekToScheduleTime",e),r.player.seekToScheduleTime(e)},setObserverMode:function(e){r.logger("setObserverMode",e),r.player.setObserverMode(e)},setPlaybackSpeed:function(e){r.logger("playbackSpeed",e),r.player.playbackSpeed=e}}),c.a.register("player.state",{roomUUID:function(){return r.player.roomUUID},phase:function(){return r.logger("phase",r.player.phase),r.player.phase},playerState:function(){try{return r.logger("playerState",r.player.state),r.player.state}catch(e){return{}}},playbackSpeed:function(){return r.logger("playbackSpeed",r.player.playbackSpeed),r.player.playbackSpeed},timeInfo:function(){var e=r.player,t={scheduleTime:e.scheduleTime,timeDuration:e.timeDuration,framesCount:e.framesCount,beginTimestamp:e.beginTimestamp};return r.logger("timeInfo",t),t}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(o,e),t=o,(r=[{key:"bindHtmlElement",value:function(e){this.player.bindHtmlElement(e)}}])&&P(t.prototype,r),n&&P(t,n),o}(g),A=(r("Q8kY"),r("N9Up"),r.p+"3e6675535013ee7e033f7f1199bda615.svg"),T=r.p+"b7663db8642ef704706e2f35ce8e525b.svg",M=r.p+"4d38e14c1a5c735e640e37b640756143.svg",I=r.p+"0c7ecc1818df16d287915d661b0f93c4.svg",x=r.p+"3f8f544933ba286361d420763c6d46c7.svg",B=r.p+"94bb93e075f0a92824c29b659ef5b729.png";function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e,t,r){return t&&F(e.prototype,t),r&&F(e,r),e}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var z=function(e){function t(e){var r,n,o;return R(this,t),n=this,r=!(o=J(t).call(this,e))||"object"!==N(o)&&"function"!=typeof o?W(n):o,U(W(r),"iconUrl",(function(e){return t.descriptions[e].iconUrl})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,e),_(t,[{key:"render",value:function(){var e=this.props.roomMember,t="rgb(".concat(e.memberState.strokeColor[0],", ").concat(e.memberState.strokeColor[1],", ").concat(e.memberState.strokeColor[2],")");return this.props.roomMember.payload&&this.props.roomMember.payload.avatar?o.createElement("div",null,o.createElement("div",{style:{borderColor:t},className:"cursor-box"},o.createElement("img",{src:this.props.roomMember.payload.avatar})),o.createElement("div",{style:{backgroundColor:t},className:"cursor-box-tool"},o.createElement("img",{src:this.iconUrl(e.memberState.currentApplianceName)}))):null}}]),t}(o.Component);U(z,"descriptions",Object.freeze({selector:Object.freeze({iconUrl:A,hasColor:!1,hasStroke:!1}),pencil:Object.freeze({iconUrl:T,hasColor:!0,hasStroke:!0}),text:Object.freeze({iconUrl:M,hasColor:!0,hasStroke:!1}),eraser:Object.freeze({iconUrl:I,hasColor:!1,hasStroke:!1}),ellipse:Object.freeze({iconUrl:x,hasColor:!0,hasStroke:!0}),rectangle:Object.freeze({iconUrl:B,hasColor:!0,hasStroke:!0})}));var L=function(){function e(){R(this,e),U(this,"cursors",{}),U(this,"roomMembers",[])}return _(e,[{key:"createCursor",value:function(e){return{x:16,y:16,width:32,height:32}}},{key:"onMovingCursor",value:function(e,t,r){}},{key:"onAddedCursor",value:function(e){var t=!0,r=!1,n=void 0;try{for(var i,a=this.roomMembers[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var c=i.value;if(c.memberId===e.memberId){e.setReactNode(o.createElement(z,{roomMember:c}));break}}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}this.cursors[e.memberId]=e}},{key:"onRemovedCursor",value:function(e){delete this.cursors[e.memberId]}},{key:"setColorAndAppliance",value:function(e){this.roomMembers=e;var t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var c=i.value,s=this.cursors[c.memberId];s&&s.setReactNode(o.createElement(z,{roomMember:c}))}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}}]),e}(),H=r("xU6Y"),q=r("R+TL"),Z=r("WURW"),V=r.n(Z),X=["https://scdncloudharestoragev3.herewhite.com","https://expresscloudharestoragev2.herewhite.com"],G=["https://cdncloudroomv2.herewhite.com","https://cdnroom.netless.pro"],K=window.fetch;var Y=function(){window.fetch=function(e,t){return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:if($(e)){r.next=2;break}return r.abrupt("return",K.call(this,e,t));case 2:return r.abrupt("return",V()([K.call(this,e,t),K.call(this,Q(e),t)]));case 3:case"end":return r.stop()}}),null,this)}};function Q(e){var t,r=[],n="string"==typeof e?e:e.url;if(-1!==X.findIndex((function(e){return-1!==n.indexOf(e)})))r=X;else{if(-1===G.findIndex((function(e){return-1!==n.indexOf(e)})))return e;r=G}if("string"==typeof e){var o=r.findIndex((function(t){return-1!==e.indexOf(t)})),i=r.length-1-o;t=e.replace(r[o],r[i])}else{var a=r.findIndex((function(t){return-1!==e.url.indexOf(t)})),c=r.length-1-a;t=new Request(e.url.replace(r[a],r[c]),e)}return t}function $(e){var t=X.concat(G);return"string"==typeof e?t.some((function(t){return-1!==e.indexOf(t)})):t.some((function(t){return-1!==e.url.indexOf(t)}))}function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){se(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ne(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var le=function(e){function t(e){var r,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,o=ie(t).call(this,e),r=!o||"object"!==ee(o)&&"function"!=typeof o?ae(n):o,se(ae(r),"webSdk",void 0),se(ae(r),"nativeConfig",void 0),se(ae(r),"container",null),se(ae(r),"cursor",void 0),se(ae(r),"roomBridge",void 0),se(ae(r),"playerBridge",void 0),se(ae(r),"debug",!1),se(ae(r),"lastScheduleTime",0),se(ae(r),"initializeOriginsStates",void 0),se(ae(r),"newWhiteSdk",(function(e){var t=e.enableInterrupterAPI?function(e){var t=c.a.call("sdk.urlInterrupter",e);return t.length>0?t:e}:void 0;r.debug=!!e.debug,r.nativeConfig=e,r.logger("newWhiteSdk",e);e.debug;var n=e.__nativeTags,o=e.initializeOriginsStates,i=(e.userCursor,e.enableInterrupterAPI,e.routeBackup),a=ne(e,["debug","__nativeTags","initializeOriginsStates","userCursor","enableInterrupterAPI","routeBackup"]);n&&(window.__nativeTags=re({},window.__nativeTags,{},n)),!r.initializeOriginsStates&&o&&(r.initializeOriginsStates=o,Object(s.setupInitializeOriginsStates)(o)),i&&Y();var l=Object(s.createPlugins)({video:H.videoPlugin,audio:q.audioPlugin});r.webSdk=new s.WhiteWebSdk(re({},a,{plugins:l,deviceType:s.DeviceType.Touch,urlInterrupter:t}))})),se(ae(r),"joinRoom",(function(e,t){r.removeBind(),r.logger("joinRoom",e);var n=e.timeout,o=void 0===n?45e3:n,i=ne(e,["timeout"]);r.webSdk.joinRoom(re({},i,{cameraBound:l(e.cameraBound),cursorAdapter:r.cursorAdapter}),{onRoomStateChanged:function(e){e.roomMembers&&r.cursorAdapter&&r.cursorAdapter.setColorAndAppliance(e.roomMembers),c.a.call("room.fireRoomStateChanged",JSON.stringify(e))},onPhaseChanged:function(e){c.a.call("room.firePhaseChanged",e),setTimeout((function(){r.roomBridge&&r.roomBridge.room.phase===s.RoomPhase.Reconnecting&&r.roomBridge.room.disconnect().then((function(){c.a.call("room.fireDisconnectWithError","Reconnect time exceeds ".concat(o," milsceonds, sdk call disconnect automatically"))}))}),o)},onDisconnectWithError:function(e){c.a.call("room.fireDisconnectWithError",e.message)},onKickedWithReason:function(e){c.a.call("room.fireKickedWithReason",e)},onCatchErrorWhenAppendFrame:function(e,t){c.a.call("room.fireCatchErrorWhenAppendFrame",{userId:e,error:t.message})}}).then((function(e){return window.displayer=e,window.room=e,r.roomBridge=new w(e,r.logger),r.container&&r.roomBridge.bindHtmlElement(r.container),e.state.roomMembers&&r.cursorAdapter&&r.cursorAdapter.setColorAndAppliance(e.state.roomMembers),t(JSON.stringify({state:e.state,observerId:e.observerId,isWritable:e.isWritable}))})).catch((function(e){return t(JSON.stringify({__error:{message:e.message,jsStack:e.stack}}))}))})),se(ae(r),"replayRoom",(function(e,t){r.removeBind(),e.audioUrl&&(e.mediaURL=e.audioUrl,e.audioUrl=void 0);var n=e.step,o=void 0===n?500:n,i=ne(e,["step"]);r.logger("replayRoom",e),r.webSdk.replayRoom(re({},i,{cursorAdapter:r.cursorAdapter,cameraBound:l(e.cameraBound)}),{onPhaseChanged:function(e){if(e!==s.PlayerPhase.WaitingFirstFrame&&r.cursorAdapter&&r.playerBridge)try{r.cursorAdapter.setColorAndAppliance(r.playerBridge.player.state.roomMembers)}catch(e){console.warn(e)}r.lastScheduleTime=0,r.logger("onPhaseChanged:",e),c.a.call("player.onPhaseChanged",e)},onLoadFirstFrame:function(){console.log("onLoadFirstFrame"),c.a.call("player.onPlayerStateChanged",JSON.stringify(r.playerBridge.player.state)),c.a.call("player.onLoadFirstFrame")},onSliceChanged:function(e){c.a.call("player.onSliceChanged",e)},onPlayerStateChanged:function(e){e.roomMembers&&r.cursorAdapter&&r.cursorAdapter.setColorAndAppliance(e.roomMembers),c.a.call("player.onPlayerStateChanged",JSON.stringify(e))},onStoppedWithError:function(e){c.a.call("player.onStoppedWithError",JSON.stringify({error:e.message,jsStack:e.stack}))},onScheduleTimeChanged:function(e){r.limitScheduleCallback((function(){c.a.call("player.onScheduleTimeChanged",e)}),e,o)},onCatchErrorWhenAppendFrame:function(e,t){c.a.call("player.onCatchErrorWhenAppendFrame",{userId:e,error:t.message})},onCatchErrorWhenRender:function(e){c.a.call("player.onCatchErrorWhenRender",{error:e.message})}}).then((function(e){window.displayer=e,window.player=e,r.playerBridge=new E(e,r.logger),r.container&&r.playerBridge.bindHtmlElement(r.container);var n=e.scheduleTime,o=e.timeDuration,i=e.framesCount,a=e.beginTimestamp;return t(JSON.stringify({timeInfo:{scheduleTime:n,timeDuration:o,framesCount:i,beginTimestamp:a}}))})).catch((function(e){return t(JSON.stringify({__error:{message:e.message,jsStack:e.stack}}))}))})),se(ae(r),"removeBind",(function(){r.playerBridge&&(r.playerBridge.stop(),r.playerBridge.bindHtmlElement(null),r.playerBridge=void 0),r.roomBridge&&(r.roomBridge.bindHtmlElement(null),r.roomBridge=void 0),window.room=void 0,window.player=void 0,window.displayer=void 0,window.displayerBridge=void 0})),se(ae(r),"limitScheduleCallback",(function(e,t,n){t>=r.lastScheduleTime?(e(),r.lastScheduleTime=Math.ceil(t/n)*n):r.playerBridge&&t+n>r.playerBridge.player.timeDuration&&(e(),r.lastScheduleTime=t)})),se(ae(r),"setContainerRef",(function(e){r.container!==e&&(r.container=e,r.playerBridge?r.playerBridge.bindHtmlElement(e):r.roomBridge&&r.roomBridge.bindHtmlElement(e))})),se(ae(r),"logger",(function(e){if(r.debug){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];console.log(JSON.stringify({funName:e,params:re({},n)})),c.a.call("sdk.logger",{funName:e,params:re({},n)})}})),se(ae(r),"throw",(function(e){console.log(JSON.stringify(e)),c.a.call("sdk.throwError",e)})),se(ae(r),"setupDebugSdk",(function(){r.debug=!0,r.nativeConfig={debug:!0,userCursor:!0};var e=Object(s.createPlugins)({video:H.videoPlugin,audio:q.audioPlugin});r.webSdk=new s.WhiteWebSdk({plugins:e,urlInterrupter:function(e){return console.log(e),e}})})),se(ae(r),"joinTestRoom",(function(){return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:r.setupDebugSdk(),r.joinRoom({uuid:"",roomToken:"",userPayload:{avatar:"https://white-pan.oss-cn-shanghai.aliyuncs.com/101/image/alin-rusu-1239275-unsplash_opt.jpg"}},(function(){}));case 2:case"end":return e.stop()}}))})),se(ae(r),"replayTestRoom",(function(){return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:r.setupDebugSdk(),r.replayRoom({room:"",roomToken:""},(function(){}));case 2:case"end":return e.stop()}}))})),window.addEventListener("error",(function(e){r.throw({message:e.message,error:e.error})})),window.addEventListener("message",(function(e){var t=e.data;"pptImageLoadError"===t.name&&c.a.call("sdk.postMessage",JSON.stringify(t)),t.shapeId&&t.mediaType&&t.action&&c.a.call("sdk.postMessage",JSON.stringify(t))})),window.whiteSdk=ae(r),r.cursor=new L,Object(s.setAsyncModuleLoadMode)(s.AsyncModuleLoadMode.StoreAsBase64),c.a.registerAsyn("sdk",{newWhiteSdk:r.newWhiteSdk,joinRoom:r.joinRoom,replayRoom:r.replayRoom}),r}var r,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return o.createElement("div",{id:"whiteboard-container",style:{position:"absolute",left:0,top:0,right:0,bottom:0,zIndex:1},ref:this.setContainerRef})}},{key:"cursorAdapter",get:function(){if(this.nativeConfig&&this.nativeConfig.userCursor)return this.cursor}}])&&oe(r.prototype,n),i&&oe(r,i),t}(o.Component);r("gjgJ");i.render(o.createElement(le,null),document.getElementById("root"))},3:function(e,t){},N9Up:function(e,t,r){},Q8kY:function(e,t,r){}},[["2YZa",1,3,2]]]);