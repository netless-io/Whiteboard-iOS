(self.webpackChunkwhiteboard_bridge=self.webpackChunkwhiteboard_bridge||[]).push([[179],{80782:function(e){function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=80782,e.exports=t},89734:function(e,t,n){"use strict";n.r(t)},6167:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){(0,o.useEffect)((function(){return function(){window.removeEventListener("error",i.globalErrorEvent),window.removeEventListener("message",i.postCustomMessage)}}),[]),(0,a.setAsyncModuleLoadMode)(a.AsyncModuleLoadMode.StoreAsBase64),window.addEventListener("error",i.globalErrorEvent),window.addEventListener("message",i.postCustomMessage);var e=(0,o.useRef)(null);return(0,s.setWhiteboardDivGetter)((function(){return e.current})),o.default.createElement("div",{id:c.whiteboardContainerId,ref:e,style:{position:"absolute",left:0,top:0,right:0,bottom:0,zIndex:1}})};var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(17328)),a=n(71895),i=n(28388),s=n(70689);n(19418),n(89734),n(75735);var c=n(36037);function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}},99047:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addExamples=function(){window.testRoom=function(){(0,r.setShowLog)(!0);var e={log:!0,userCursor:!0,__platform:"bridge",appIdentifier:"",useMultiViews:!0};window._dsaf._obs.sdk.newWhiteSdk(e,(function(){}));var t={uuid:"",uid:"0",roomToken:"",userPayload:{avatar:"https://white-pan.oss-cn-shanghai.aliyuncs.com/40/image/mask.jpg"}};window._dsaf._obs.sdk.joinRoom(t,(function(){}))},window.testReplay=function(){(0,r.setShowLog)(!0);var e={log:!0,userCursor:!0,__platform:"bridge",appIdentifier:"",useMultiViews:!0};window._dsaf._obs.sdk.newWhiteSdk(e,(function(){}));var t={room:"",roomToken:""};window._dsaf._obs.sdk.replayRoom(t,(function(){}))}};var r=n(38789)},59048:function(e,t,n){"use strict";n(18808),n(51678);var r=n(51013);window.ResizeObserver||(window.ResizeObserver=r.ResizeObserver)},34570:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerDisplayerBridge=function(e){r.default.register(p,new b(e)),r.default.registerAsyn(m,new h(e))},t.DisplayerBridge=t.AsyncDisplayerBridge=t.asyncDisplayerNameSpace=t.displayerNameSpace=void 0;var r=u(n(64037)),o=n(51126),a=u(n(90945)),i=n(28388),s=n(36037),c=n(38789);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var p="displayer";t.displayerNameSpace=p;var m="displayerAsync";function y(e){return fetch(e).then((function(e){return e.blob()})).then((function(e){return new Promise((function(t){var n=new FileReader;n.onload=function(){t(this.result)},n.readAsDataURL(e)}))}))}function g(e,t,n){var r=document.createElement("div");r.setAttribute("class","shadow");var o,i=document.getElementById(s.whiteboardContainerId);if(i){var c=window.getComputedStyle(i).backgroundColor;r.style.background=c}document.body.appendChild(r),t(e,r,r.clientWidth,r.clientHeight),(0,a.default)(r,{useCORS:!0,onclone:(o=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){d(a,r,o,i,s,"next",e)}function s(e){d(a,r,o,i,s,"throw",e)}i(void 0)}))}}(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Array.from(t.getElementsByTagName("image")),r=0,o=n;case 2:if(!(r<o.length)){e.next=13;break}return a=o[r],s=(i=a).href.baseVal,e.next=8,y(s);case 8:c=e.sent,i.href.baseVal=c;case 10:r++,e.next=2;break;case 13:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})}).then((function(e){var t=e.toDataURL();document.body.removeChild(r),n(t)}))}t.asyncDisplayerNameSpace=m;var h=function e(t){var n=this;l(this,e),this.aDisplayer=t,f(this,"sceneSnapshot",(function(e,t){g(e,n.aDisplayer.fillSceneSnapshot.bind(n.aDisplayer),t)})),f(this,"scenePreview",(function(e,t){g(e,n.aDisplayer.scenePreview.bind(n.aDisplayer),t)}))};t.AsyncDisplayerBridge=h;var b=function e(t){var n=this;l(this,e),this.aDisplayer=t,f(this,"postMessage",(function(e){var t={name:"parentWindow",payload:e},n=document.getElementsByTagName("iframe");n.length>0&&n[0].contentWindow?n[0].contentWindow.postMessage(t,"*"):0==n.length?(0,c.logger)("postmessage","no frames exist"):(0,c.logger)("postmessage","no content Window")})),f(this,"scaleIframeToFit",(function(){var e=n.aDisplayer.getInvisiblePlugin("IframeBridge");e&&e.scaleIframeToFit()})),f(this,"setDisableCameraTransform",(function(e){n.aDisplayer.disableCameraTransform=e})),f(this,"getDisableCameraTransform",(function(){return n.aDisplayer.disableCameraTransform})),f(this,"setCameraBound",(function(e){var t=(0,o.convertBound)(e);n.aDisplayer.setCameraBound(t)})),f(this,"getMemberState",(function(e){return JSON.stringify(n.aDisplayer.memberState(e))})),f(this,"getWindowManagerAttributes",(function(){var e,t;return JSON.parse(JSON.stringify(null===(e=window.manager)||void 0===e||null===(t=e.appManager)||void 0===t?void 0:t.attributes))})),f(this,"scenePathType",(function(e){return n.aDisplayer.scenePathType(e)})),f(this,"entireScenes",(function(){return n.aDisplayer.entireScenes()})),f(this,"getScene",(function(e){return n.aDisplayer.getScene(e)})),f(this,"moveCamera",(function(e){n.aDisplayer.moveCamera(e)})),f(this,"moveCameraToContain",(function(e){n.aDisplayer.moveCameraToContain(e)})),f(this,"refreshViewSize",(function(){n.aDisplayer.refreshViewSize()})),f(this,"scalePptToFit",(function(e){n.aDisplayer.scalePptToFit(e)})),f(this,"convertToPointInWorld",(function(e,t){return n.aDisplayer.convertToPointInWorld({x:e,y:t})})),f(this,"setBackgroundColor",(function(e,t,n,r){var o=document.getElementById(s.whiteboardContainerId);(0,c.logger)("setBackgroundColor native",e,t,n,r);var a="rgb(".concat(e,", ").concat(t,", ").concat(n,")");o.style.background=a})),f(this,"addHighFrequencyEventListener",(function(e,t){n.aDisplayer.addMagixEventListener(e,(function(e){var t=n.aDisplayer.uuid||n.aDisplayer.roomUUID,o=e.map((function(e){return{uuid:t,eventName:e.event,payload:e.payload,scope:e.scope,authorId:e.authorId}}));(0,i.isRoom)(n.aDisplayer)?r.default.call("room.fireHighFrequencyEvent",JSON.stringify(o)):r.default.call("player.fireHighFrequencyEvent",JSON.stringify(o))}),t)})),f(this,"addMagixEventListener",(function(e){n.aDisplayer.addMagixEventListener(e,(function(e){var t={uuid:n.aDisplayer.uuid||n.aDisplayer.roomUUID,eventName:e.event,payload:e.payload,scope:e.scope,authorId:e.authorId};(0,i.isRoom)(n.aDisplayer)?r.default.call("room.fireMagixEvent",JSON.stringify(t)):r.default.call("player.fireMagixEvent",JSON.stringify(t))}))})),f(this,"removeMagixEventListener",(function(e){n.aDisplayer.removeMagixEventListener(e)}))};t.DisplayerBridge=b},74172:function(){"use strict";"undefined"==typeof Proxy&&(window.__netlessMobXUseProxies="ifavailable")},15581:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addManagerListener=function(e,t,n){window.manager=e,n instanceof o.RoomCallbackHandler?function(e,t,n){e.emitter.on("cameraStateChange",(function(e){n.onRoomStateChanged({cameraState:e})})),e.emitter.on("sceneStateChange",(function(e){a.default.call("room.fireRoomStateChanged",JSON.stringify({sceneState:e}))})),e.emitter.on("boxStateChange",(function(e){n.onRoomStateChanged({windowBoxState:e})})),e.emitter.on("pageStateChange",(function(e){n.onRoomStateChanged({pageState:e})})),e.emitter.on("canRedoStepsChange",(function(e){n.onCanRedoStepsUpdate(e)})),e.emitter.on("canUndoStepsChange",(function(e){n.onCanUndoStepsUpdate(e)})),e.emitter.on("loadApp",(function(e){t("loadApp",e)}))}(e,t,n):function(e,t,n){e.emitter.on("cameraStateChange",(function(e){n.onPlayerStateChanged({cameraState:e})})),e.emitter.on("sceneStateChange",(function(e){a.default.call("player.onPlayerStateChanged",JSON.stringify({sceneState:e}))})),e.emitter.on("boxStateChange",(function(e){n.onPlayerStateChanged({windowBoxState:e})})),e.emitter.on("pageStateChange",(function(e){n.onPlayerStateChanged({pageState:e})})),e.emitter.on("loadApp",(function(e){t("loadApp",e)}))}(e,t,n)},n(71897);var r,o=n(18859),a=(r=n(64037))&&r.__esModule?r:{default:r}},88655:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerPlayerBridge=function(e,t,n,r){window.player=e,window.combinePlayer=t,(0,i.registerDisplayerBridge)(e),o.default.registerAsyn(d,new y(e,t)),o.default.register(p,new m(e,t)),t&&t.setOnStatusChange((function(e,t){switch(n.time=0,e){case s.PublicCombinedStatus.Pause:r.onPhaseChanged(a.PlayerPhase.Pause);break;case s.PublicCombinedStatus.PauseBuffering:case s.PublicCombinedStatus.PauseSeeking:case s.PublicCombinedStatus.PlayingBuffering:case s.PublicCombinedStatus.PlayingSeeking:r.onPhaseChanged(a.PlayerPhase.Buffering);break;case s.PublicCombinedStatus.Ended:r.onPhaseChanged(a.PlayerPhase.Ended);break;case s.PublicCombinedStatus.Playing:r.onPhaseChanged(a.PlayerPhase.Playing);break;case s.PublicCombinedStatus.Disabled:r.onStoppedWithError(new Error(t))}}))},t.PlayerAsyncBridge=t.PlayerStateBridge=t.playerStateNameSpace=t.playerNameSpace=void 0;var r,o=(r=n(64037))&&r.__esModule?r:{default:r},a=n(71895),i=n(34570),s=n(92710);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d="player";t.playerNameSpace=d;var p="player.state";t.playerStateNameSpace=p;var m=function e(t,n){var r=this;l(this,e),this.player=t,this.combinePlayer=n,f(this,"roomUUID",(function(){return r.player.roomUUID})),f(this,"phase",(function(){return r.player.phase})),f(this,"playerState",(function(){try{var e=r.player.state;return window.manager&&(e=u(u(u({},e),{windowBoxState:window.manager.boxState}),{},{cameraState:window.manager.cameraState,sceneState:window.manager.sceneState})),e}catch(e){return{}}})),f(this,"isPlayable",(function(){return r.player.isPlayable})),f(this,"playbackSpeed",(function(){return r.combinePlayer?r.combinePlayer.playbackRate:r.player.playbackSpeed})),f(this,"timeInfo",(function(){var e=r.player;return{scheduleTime:e.progressTime,timeDuration:e.timeDuration,framesCount:e.framesCount,beginTimestamp:e.beginTimestamp}}))};t.PlayerStateBridge=m;var y=function e(t,n){var r=this;l(this,e),this.player=t,this.combinePlayer=n,f(this,"play",(function(){r.combinePlayer?r.combinePlayer.play():r.player.play()})),f(this,"pause",(function(){r.combinePlayer?r.combinePlayer.pause():r.player.pause()})),f(this,"stop",(function(){try{r.player.stop()}catch(e){console.log("stop:",e.message)}})),f(this,"seekToScheduleTime",(function(e,t){r.combinePlayer?(r.combinePlayer.seek(e),t&&setTimeout((function(){t(a.PlayerSeekingResult.Success)}),0)):r.player.seekToProgressTime(e).then((function(e){t&&t(e)}))})),f(this,"setObserverMode",(function(e){r.player.setObserverMode(e)})),f(this,"setPlaybackSpeed",(function(e){r.combinePlayer?r.combinePlayer.playbackRate=e:r.player.playbackSpeed=e}))};t.PlayerAsyncBridge=y},30068:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReplayerCallbackHandler=t.lastSchedule=void 0;var r,o=(r=n(64037))&&r.__esModule?r:{default:r},a=n(71895),i=n(89774),s=n(38789);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={time:0};t.lastSchedule=u;var l,f=!1;t.ReplayerCallbackHandler=function e(t,n,r,d){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"onPhaseChanged",(function(e){})),c(this,"onLoadFirstFrame",(function(){o.default.call("player.onPlayerStateChanged",JSON.stringify(window.player.state)),o.default.call("player.onLoadFirstFrame"),f&&(0,i.postIframeMessage)({eventName:"onLoadFirstFrame",params:[]},s.logger)})),c(this,"onPlayerStateChanged",(function(e){window.manager&&e.sceneState||(o.default.call("player.onPlayerStateChanged",JSON.stringify(e)),f&&(0,i.postIframeMessage)({eventName:"onPlayerStateChanged",params:[e]},s.logger))})),c(this,"onStoppedWithError",(function(e){o.default.call("player.onStoppedWithError",JSON.stringify({error:e.message,jsStack:e.stack})),f&&(0,i.postIframeMessage)({eventName:"onStoppedWithError",params:[e]},s.logger)})),c(this,"onProgressTimeChanged",(function(e){!function(e,t,n){var r=window.player;void 0!==r&&(t>=u.time?(e(),u.time=Math.ceil(t/n)*n):r&&t+n>r.timeDuration&&(e(),u.time=t))}((function(){o.default.call("player.onScheduleTimeChanged",e)}),e,l),f&&(0,i.postIframeMessage)({eventName:"onProgressTimeChanged",params:[e]},s.logger)})),c(this,"onCatchErrorWhenAppendFrame",(function(e,t){})),c(this,"onCatchErrorWhenRender",(function(e){o.default.call("player.onCatchErrorWhenRender",{error:e.message})})),f=r,l=t,this.onPhaseChanged=function(e){var t=window.player;if(void 0!==t){d(t,e);var r=function(e){u.time=0,o.default.call("player.onPhaseChanged",e),f&&(0,i.postIframeMessage)({eventName:"onPhaseChanged",params:[e]},s.logger)};n&&e!==a.PlayerPhase.WaitingFirstFrame&&e!==a.PlayerPhase.Stopped||r(e)}}}},25413:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerBridgeRoom=function(e){window.room=e,(0,i.registerDisplayerBridge)(e),o.default.register(C,new E),o.default.registerAsyn(C,new x(e)),o.default.register("ppt",new A(e)),o.default.register(k,new I(e)),o.default.register(M,new N(e))},t.RoomStateBridge=t.RoomAsyncBridge=t.RoomSyncBridge=t.RoomPPTBridge=t.RoomBridge=t.roomStateNamespace=t.roomNamespace=t.roomSyncNamespace=t.pptNamespace=void 0;var r,o=(r=n(64037))&&r.__esModule?r:{default:r},a=n(71895),i=n(34570),s=n(61918),c=n(28388);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,a=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){h=function(e,t){return new a(e,void 0,t)};var n=v(RegExp),r=RegExp.prototype,o=new WeakMap;function a(e,t,r){var a=n.call(this,e,t);return o.set(a,r||o.get(e)),a}function i(e,t){var n=o.get(t);return Object.keys(n).reduce((function(t,r){return t[r]=e[n[r]],t}),Object.create(null))}return b(a,n),a.prototype.exec=function(e){var t=r.exec.call(this,e);return t&&(t.groups=i(t,this)),t},a.prototype[Symbol.replace]=function(e,t){if("string"==typeof t){var n=o.get(this);return r[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+n[t]})))}if("function"==typeof t){var a=this;return r[Symbol.replace].call(this,e,(function(){var e=[];return e.push.apply(e,arguments),"object"!==u(e[e.length-1])&&e.push(i(e,a)),t.apply(this,e)}))}return r[Symbol.replace].call(this,e,t)},h.apply(this,arguments)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}function v(e){var t="function"==typeof Map?new Map:void 0;return v=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return w(e,arguments,O(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),P(r,e)},v(e)}function w(e,t,n){return w=S()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&P(o,n.prototype),o},w.apply(null,arguments)}function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function P(e,t){return P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},P(e,t)}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}t.pptNamespace="ppt";var k="room.sync";t.roomSyncNamespace=k;var C="room";t.roomNamespace=C;var M="room.state";function j(e,t,n){var r=function(e){var t,n=[],r="",o="",a=h(/^pptx?(:\/\/[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uFEFE\uFF00-\uFFFF]+?dynamicConvert)\/([0-9A-Z_a-z]+)\//,{prefix:1,taskId:2}),i=y(e);try{for(i.s();!(t=i.n()).done;){var s=t.value,c=s.name,u=s.ppt;if(n.push({name:c}),u&&u.src.startsWith("ppt")){var l=a.exec(u.src);if(l&&l.groups){r=l.groups.taskId,o="https"+l.groups.prefix;break}}}}catch(e){i.e(e)}finally{i.f()}return{scenesWithoutPPT:n,taskId:r,url:o}}(n),o=r.scenesWithoutPPT,a=r.taskId,i=r.url;try{return a&&i?window.manager.addApp({kind:"Slide",options:{scenePath:e,title:t,scenes:o},attributes:{taskId:a,url:i}}):window.manager.addApp({kind:s.BuiltinApps.DocsViewer,options:{scenePath:e,title:t,scenes:n}})}catch(e){return console.log(e),Promise.reject()}}function _(e){e.getInvisiblePlugin("IframeBridge")&&e.getInvisiblePlugin("IframeBridge").computedZindex(),e.getInvisiblePlugin("IframeBridge")&&e.getInvisiblePlugin("IframeBridge").updateStyle()}t.roomStateNamespace=M;var E=function(){function e(){p(this,e)}var t,n,r;return t=e,(n=[{key:"setWindowManagerAttributes",value:function(e){var t,n;null===(t=window.manager)||void 0===t||t.setAttributes(e),null===(n=window.manager)||void 0===n||n.refresh()}},{key:"setContainerSizeRatio",value:function(e){var t;null===(t=window.manager)||void 0===t||t.setContainerSizeRatio(e)}},{key:"setPrefersColorScheme",value:function(e){var t;null===(t=window.manager)||void 0===t||t.setPrefersColorScheme(e)}}])&&m(t.prototype,n),r&&m(t,r),e}();t.RoomBridge=E;var A=function e(t){var n=this;p(this,e),this.room=t,d(this,"nextStep",(function(){n.room.pptNextStep()})),d(this,"previousStep",(function(){n.room.pptPreviousStep()}))};t.RoomPPTBridge=A;var I=function e(t){var n=this;p(this,e),this.room=t,d(this,"syncBlockTimestamp",(function(e){n.room.syncBlockTimestamp(e)})),d(this,"disableSerialization",(function(e){n.room.disableSerialization=e,e||null!=window.manager||(o.default.call("room.fireCanUndoStepsUpdate",n.room.canUndoSteps),o.default.call("room.fireCanRedoStepsUpdate",n.room.canRedoSteps))})),d(this,"copy",(function(){n.room.copy()})),d(this,"paste",(function(){n.room.paste()})),d(this,"duplicate",(function(){n.room.duplicate()})),d(this,"delete",(function(){n.room.delete()})),d(this,"disableEraseImage",(function(e){n.room.disableEraseImage=e}))};t.RoomSyncBridge=I;var x=function e(t){var n=this;p(this,e),this.room=t,d(this,"redo",(function(e){e(n.room.redo())})),d(this,"undo",(function(e){e(n.room.undo())})),d(this,"canRedoSteps",(function(e){window.manager?e(window.manager.canRedoSteps):e(n.room.canRedoSteps)})),d(this,"canUndoSteps",(function(e){window.manager?e(window.manager.canUndoSteps):e(n.room.canUndoSteps)})),d(this,"setGlobalState",(function(e){n.room.setGlobalState(e)})),d(this,"setScenePath",(function(e,t){try{window.manager?window.manager.setMainViewScenePath(e):n.room.setScenePath(e),t(JSON.stringify({}))}catch(e){return t(JSON.stringify({__error:{message:e.message,jsStack:e.stack}}))}})),d(this,"addPage",(function(e){if(window.manager)window.manager.addPage(e);else{var t=n.room.state.sceneState.contextPath;if(e.after){var r=n.room.state.sceneState.index+1;n.room.putScenes(t,[e.scene||{}],r)}else n.room.putScenes(t,[e.scene||{}])}})),d(this,"nextPage",(function(e){if(window.manager)window.manager.nextPage().then((function(t){e(t)}));else{var t=n.room.state.sceneState.index+1;t<n.room.state.sceneState.scenes.length?(n.room.setSceneIndex(t),e(!0)):e(!1)}})),d(this,"prevPage",(function(e){if(window.manager)window.manager.prevPage().then((function(t){e(t)}));else{var t=n.room.state.sceneState.index-1;t>=0?(n.room.setSceneIndex(t),e(!0)):e(!1)}})),d(this,"setMemberState",(function(e){n.room.setMemberState(e)})),d(this,"setViewMode",(function(e){var t=a.ViewMode[e];void 0===t&&(t=a.ViewMode.Freedom),window.manager?window.manager.setViewMode(t):n.room.setViewMode(t)})),d(this,"setWritable",(function(e,t){n.room.setWritable(e).then((function(){t(JSON.stringify({isWritable:n.room.isWritable,observerId:n.room.observerId}))})).catch((function(e){t(JSON.stringify({__error:{message:e.message,jsStack:e.stack}}))}))})),d(this,"getMemberState",(function(e){return e(JSON.stringify(n.room.state.memberState))})),d(this,"getGlobalState",(function(e){return e(JSON.stringify(n.room.state.globalState))})),d(this,"getSceneState",(function(e){return e(JSON.stringify(n.room.state.sceneState))})),d(this,"getRoomMembers",(function(e){return e(JSON.stringify(n.room.state.roomMembers))})),d(this,"getPptImages",(function(e){var t=n.room.state.sceneState.scenes.map((function(e){return e.ppt?e.ppt.src:""}));return e(JSON.stringify(t))})),d(this,"setSceneIndex",(function(e,t){try{window.manager?window.manager.setMainViewSceneIndex(e):n.room.setSceneIndex(e),t(JSON.stringify({}))}catch(e){t(JSON.stringify({__error:{message:e.message,jsStack:e.stack}}))}})),d(this,"getScenes",(function(e){return e(JSON.stringify(n.room.state.sceneState.scenes))})),d(this,"getZoomScale",(function(e){var t=1;return t=window.manager?window.manager.mainView.camera.scale:n.room.state.cameraState.scale,e(JSON.stringify(t))})),d(this,"getBroadcastState",(function(e){return e(JSON.stringify(n.room.state.broadcastState))})),d(this,"getRoomPhase",(function(e){return e(n.room.phase)})),d(this,"disconnect",(function(e){n.room.disconnect().then((function(){e()}))})),d(this,"zoomChange",(function(e){n.room.moveCamera({scale:e})})),d(this,"disableCameraTransform",(function(e){n.room.disableCameraTransform=e})),d(this,"disableDeviceInputs",(function(e){window.manager&&window.manager.setReadonly(e),n.room.disableDeviceInputs=e,_(n.room)})),d(this,"disableOperations",(function(e){n.room.disableCameraTransform=e,n.room.disableDeviceInputs=e,_(n.room)})),d(this,"disableWindowOperation",(function(e){var t;null===(t=window.manager)||void 0===t||t.setReadonly(e)})),d(this,"putScenes",(function(e,t,r,o){n.room.putScenes(e,t,r),o(JSON.stringify(n.room.state.sceneState))})),d(this,"removeScenes",(function(e){n.room.removeScenes(e)})),d(this,"moveScene",(function(e,t){n.room.moveScene(e,t)})),d(this,"insertText",(function(e,t,r,o){window.manager?o(window.manager.mainView.insertText(e,t,r)):o(n.room.insertText(e,t,r))})),d(this,"cleanScene",(function(e){n.room.cleanCurrentScene(e)})),d(this,"insertImage",(function(e){n.room.insertImage(e)})),d(this,"insertVideo",(function(e){})),d(this,"completeImageUpload",(function(e,t){n.room.completeImageUpload(e,t)})),d(this,"dispatchMagixEvent",(function(e){n.room.dispatchMagixEvent(e.eventName,e.payload)})),d(this,"setTimeDelay",(function(e){n.room.timeDelay=e})),d(this,"addApp",(function(e,t,n,r){if(window.manager)if("Slide"===e){var o=t;j(o.scenePath,o.title,o.scenes).then((function(e){r(e)}))}else window.manager.addApp({kind:e,options:t,attributes:n}).then((function(e){r(e)}))})),d(this,"closeApp",(function(e,t){window.manager&&window.manager.closeApp(e).then((function(){return t(void 0)}))})),d(this,"getSyncedState",(function(e){var t=window.syncedStore?window.syncedStore.attributes:{};e(JSON.stringify(t))})),d(this,"safeSetAttributes",(function(e){var t;null===(t=window.syncedStore)||void 0===t||t.safeSetAttributes(e)})),d(this,"safeUpdateAttributes",(function(e,t){var n;null===(n=window.syncedStore)||void 0===n||n.safeUpdateAttributes(e,t)}))};t.RoomAsyncBridge=x;var N=function e(t){var n=this;p(this,e),this.room=t,d(this,"getRoomState",(function(){var e=n.room.state;return window.manager?f(f(f({},e),{windowBoxState:window.manager.boxState}),{},{cameraState:window.manager.cameraState,sceneState:window.manager.sceneState},{pageState:window.manager.pageState}):f(f({},e),(0,c.createPageState)(e.sceneState))})),d(this,"getTimeDelay",(function(){return n.room.timeDelay})),d(this,"getPhase",(function(){return n.room.phase})),d(this,"isWritable",(function(){return n.room.isWritable})),d(this,"debugInfo",(function(){try{var e=n.room.screen,t=e.camera,r=e.visionRectangle,o=e.adaptedRectangle,a=e.divElement;return{camera:t,visionRectangle:r,adaptedRectangle:o,divWidth:a.clientWidth,divHeight:a.clientHeight}}catch(e){return{error:e.message}}}))};t.RoomStateBridge=N},18859:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RoomCallbackHandler=void 0;var r,o=n(38789),a=(r=n(64037))&&r.__esModule?r:{default:r},i=n(28388),s=n(71895);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.RoomCallbackHandler=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"onPhaseChanged",(function(e){a.default.call("room.firePhaseChanged",e);var t=window.room;t&&t.phase===s.RoomPhase.Reconnecting&&setTimeout((function(){t&&t.phase===s.RoomPhase.Reconnecting&&((0,o.logger)("room start disconnect by reconnecting timeout by bridge"),t.disconnect().then((function(){var e="Reconnect time exceeds ".concat(45e3," milliseconds, sdk call disconnect automatically");(0,o.logger)(e),a.default.call("room.fireDisconnectWithError",e)})))}),45e3)})),f(this,"onCanUndoStepsUpdate",(function(e){a.default.call("room.fireCanUndoStepsUpdate",e)})),f(this,"onCanRedoStepsUpdate",(function(e){a.default.call("room.fireCanRedoStepsUpdate",e)})),f(this,"onRoomStateChanged",(function(e){var t=e,n=t.sceneState,r=l(t,["sceneState"]);window.manager?0!==Object.keys(r).length&&a.default.call("room.fireRoomStateChanged",JSON.stringify(r)):(n&&(e=u(u({},e),(0,i.createPageState)(n))),a.default.call("room.fireRoomStateChanged",JSON.stringify(e)))})),f(this,"onDisconnectWithError",(function(e){a.default.call("room.fireDisconnectWithError",e.message)})),f(this,"onKickedWithReason",(function(e){a.default.call("room.fireKickedWithReason",e)})),f(this,"onAttributesUpdate",(function(e){a.default.call("room.fireAttributesUpdate",JSON.stringify(e))})),f(this,"onCatchErrorWhenAppendFrame",(function(e,t){(0,o.logger)("onCatchErrorWhenAppendFrame",[e,t.message]),a.default.call("room.fireCatchErrorWhenAppendFrame",{userId:e,error:t.message})})),f(this,"onCatchErrorWhenRender",(function(e){}))}},24666:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Rtc=void 0;var r,o=(r=n(64037))&&r.__esModule?r:{default:r};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"startCallback",void 0),i(this,"stopCallback",void 0),i(this,"startAudioMixing",(function(e,n,r,a,i){return t.startCallback=i,o.default.call("rtc.startAudioMixing",{filePath:e,loopback:n,replace:r,cycle:a})})),i(this,"stopAudioMixing",(function(e){return t.stopCallback=e,o.default.call("rtc.stopAudioMixing")})),o.default.register("rtc",{callback:function(n,r){switch(n){case e.kStopAudioMixing:t.stopCallback&&t.stopCallback(n,r);break;case e.kStartAudioMixing:t.startCallback&&t.startCallback(n,r);break;default:t.startCallback?t.startCallback(n,r):t.stopCallback&&t.stopCallback(n,r)}}})}var t,n,r;return t=e,(n=[{key:"pauseAudioMixing",value:function(){return o.default.call("rtc.pauseAudioMixing")}},{key:"resumeAudioMixing",value:function(){return o.default.call("rtc.resumeAudioMixing")}},{key:"setAudioMixingPosition",value:function(e){return o.default.call("rtc.setAudioMixingPosition",e)}}])&&a(t.prototype,n),r&&a(t,r),e}();t.Rtc=s,i(s,"kStartAudioMixing",710),i(s,"kStopAudioMixing",713),i(s,"kAudioError",714)},70689:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.setWhiteboardDivGetter=function(e){L=e},t.registerSDKBridge=function(){i.default.registerAsyn("sdk",new ee)},t.sdkNameSpace=t.sdkCallbackHandler=void 0;var o=n(54505),a=n(20597),i=E(n(64037)),s=n(71895),c=n(44112),u=n(87980),l=n(56868),f=n(25275),d=n(11559),p=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=_();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(17562)),m=n(61918),y=n(39860),g=n(24645),h=n(38789),b=n(51126),v=n(15581),w=n(18859),S=n(28388),P=n(30068),O=E(n(92710)),k=n(25413),C=n(88655),M=n(24666),j=n(42477);function _(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _=function(){return e},e}function E(e){return e&&e.__esModule?e:{default:e}}function A(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=x(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,a=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function x(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function U(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){W(a,r,o,i,s,"next",e)}function s(e){W(a,r,o,i,s,"throw",e)}i(void 0)}))}}var L,J=void 0,H=void 0,V=void 0,z=new M.Rtc,G=void 0,K=void 0,$=new j.SDKCallbackHandler;t.sdkCallbackHandler=$;var X="whiteboard-native-css",q="whiteboard-native-font-face";function Z(){window.manager?(window.manager.destroy(),window.manager=void 0,H=void 0,V=void 0):H?(H.bindHtmlElement(null),H=void 0):V&&(V.bindHtmlElement(null),V=void 0)}function Y(e,t,n){return Q.apply(this,arguments)}function Q(){return Q=U(regeneratorRuntime.mark((function e(t,n,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.WindowManager.mount(D(D({containerSizeRatio:9/16,chessboard:!0,cursor:!!K},r),{},{container:L(),room:t}));case 2:return o=e.sent,(0,v.addManagerListener)(o,h.logger,n),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}t.sdkNameSpace="sdk";var ee=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=[{key:"newWhiteSdk",value:function(e){var t=e.enableInterrupterAPI?function(e){var t=$.onUrlInterrupter(e);return t.length>0?t:e}:void 0,n=e.log,r=e.__nativeTags,i=e.__platform,b=e.__netlessUA,v=(e.initializeOriginsStates,e.useMultiViews),w=e.userCursor,S=(e.enableInterrupterAPI,e.routeBackup,e.enableRtcIntercept),P=e.enableImgErrorCallback,O=e.enableIFramePlugin,k=e.enableSyncedStore,C=F(e,["log","__nativeTags","__platform","__netlessUA","initializeOriginsStates","useMultiViews","userCursor","enableInterrupterAPI","routeBackup","enableRtcIntercept","enableImgErrorCallback","enableIFramePlugin","enableSyncedStore"]);(0,h.setShowLog)(!!n),G=e,(0,h.logger)("newWhiteSdk",e),i&&(window.__platform=i),b&&(window.__netlessUA=b.join(" ")),P&&(0,o.hookCreateElement)(),K=w?new a.CursorTool:void 0,r&&(window.__nativeTags=D(D({},window.__nativeTags),r));var M=C.pptParams||{};S&&(M.rtcClient=z);var j,_=[],E=I(window.pluginParams||[]);try{for(E.s();!(j=E.n()).done;){var x=j.value,N=T({},x.name,window[x.variable]);_.push(N)}}catch(e){E.e(e)}finally{E.f()}var R=(0,s.createPlugins)(D({video:c.videoPlugin,audio:u.audioPlugin,video2:l.videoPlugin2,audio2:f.audioPlugin2,"video.js":(0,d.videoJsPlugin)({log:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];h.report.apply(void 0,["videoJsPlugin",e].concat(n))}})},_));R.setPluginContext("video.js",{enable:!1,verbose:!0});var B,W,L=I(window.pluginContext||[]);try{for(L.s();!(B=L.n()).done;){var H=B.value;R.setPluginContext(H.name,H.params)}}catch(e){L.e(e)}finally{L.f()}window.plugins=R,m.WindowManager.register({kind:"Slide",appOptions:{debug:!1},addHooks:p.addHooks,src:(W=U(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p.default);case 1:case"end":return e.stop()}}),e)}))),function(){return W.apply(this,arguments)})});var V,X=I(window.appRegisterParams||[]);try{for(X.s();!(V=X.n()).done;){var q=V.value;m.WindowManager.register({kind:q.kind,appOptions:q.appOptions,src:q.variable?window[q.variable]:q.url})}}catch(e){X.e(e)}finally{X.f()}var Z=[].concat(A(O?[g.IframeBridge]:[]),A(k?[y.SyncedStore]:[]));try{J=new s.WhiteWebSdk(D(D({},C),{},{invisiblePlugins:Z,wrappedComponents:O?[g.IframeWrapper]:void 0,plugins:R,urlInterrupter:t,onWhiteSetupFailed:function(e){$.onSetupFail(e)},pptParams:M,useMobXState:O||v})),window.sdk=J}catch(e){$.onSetupFail(e)}}},{key:"joinRoom",value:function(e,t){if(J){Z(),(0,h.logger)("joinRoom",e),e.timeout;var n=e.cameraBound,r=e.windowParams,o=e.disableCameraTransform,a=e.nativeWebSocket,i=F(e,["timeout","cameraBound","windowParams","disableCameraTransform","nativeWebSocket"]),s=G.useMultiViews,c=A(s?[m.WindowManager]:[]);window.nativeWebSocket=a;var u=new w.RoomCallbackHandler;J.joinRoom(D(D({useMultiViews:s,disableCameraTransform:o},i),{},{invisiblePlugins:c,cursorAdapter:s?void 0:K,cameraBound:(0,b.convertBound)(n),disableMagixEventDispatchLimit:s}),D(D({},u),$)).then(function(){var e=U(regeneratorRuntime.mark((function e(n){var o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z(),i=(H=n).state,!s){e.next=16;break}return e.prev=4,e.next=7,Y(H,u,r);case 7:c=e.sent,i=D(D(D({},i),{windowBoxState:c.boxState}),{},{cameraState:c.cameraState,sceneState:c.sceneState},{pageState:c.pageState}),e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",t(JSON.stringify({__error:{message:e.t0.message,jsStack:e.t0.stack}})));case 14:e.next=19;break;case 16:H.bindHtmlElement(L()),K&&K.setRoom(H),i=D(D({},i),(0,S.createPageState)(i.sceneState));case 19:if(!(null===(o=G)||void 0===o?void 0:o.enableSyncedStore)){e.next=24;break}return e.next=22,y.SyncedStore.create(H);case 22:window.syncedStore=e.sent,window.syncedStore.emitter.on("attributesUpdate",(function(e){(0,h.logger)("attributesUpdate",e),u.onAttributesUpdate(e)}));case 24:return(0,k.registerBridgeRoom)(H),e.abrupt("return",t(JSON.stringify({state:i,observerId:H.observerId,isWritable:H.isWritable,syncedStore:null===(a=window.syncedStore)||void 0===a?void 0:a.attributes})));case 26:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return t(JSON.stringify({__error:{message:e.message,jsStack:e.stack}}))}))}else t(JSON.stringify({__error:{message:"sdk init failed"}}))}},{key:"replayRoom",value:function(e,t){var n;if(J){var r=e.step,o=void 0===r?500:r,a=e.cameraBound,i=e.mediaURL,c=(e.windowParams,F(e,["step","cameraBound","mediaURL","windowParams"]));Z(),(0,h.logger)("replayRoom",e);var u,l=G.useMultiViews;u=new P.ReplayerCallbackHandler(o,!!i,!!(null===(n=G)||void 0===n?void 0:n.enableIFramePlugin),(function(t,n){var r;if((n===s.PlayerPhase.Pause||n===s.PlayerPhase.Playing)&&(null===(r=G)||void 0===r?void 0:r.useMultiViews)&&null===t.getInvisiblePlugin(m.WindowManager.kind)&&!window.manager){var o=t,a=e.windowParams;setTimeout((function(){Y(o,u,a).catch((function(e){console.error("mount error",e)}))}),0)}})),J.replayRoom(D(D({},c),{},{cursorAdapter:l?void 0:K,cameraBound:(0,b.convertBound)(a),invisiblePlugins:l?[m.WindowManager]:[],useMultiViews:l}),D(D({},u),$)).then(function(){var e=U(regeneratorRuntime.mark((function e(n){var r,o,a,s,c,f,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(),V=n,l||(n.bindHtmlElement(L()),K&&(null===(r=K)||void 0===r||r.setPlayer(V))),i?((o=document.createElement("video")).setAttribute("x5-video-player-type","h5-page"),o.setAttribute("playsInline",""),o.setAttribute("style","display:none;"),o.setAttribute("class","video-js"),document.body.appendChild(o),a=new O.default(V,{url:i,videoDOM:o}),s=a.create(),(0,C.registerPlayerBridge)(n,s,P.lastSchedule,u)):(0,C.registerPlayerBridge)(n,void 0,P.lastSchedule,u),c=n.progressTime,f=n.timeDuration,d=n.framesCount,p=n.beginTimestamp,e.abrupt("return",t(JSON.stringify({timeInfo:{scheduleTime:c,timeDuration:f,framesCount:d,beginTimestamp:p}})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return t(JSON.stringify({__error:{message:e.message,jsStack:e.stack}}))}))}else t(JSON.stringify({__error:{message:"sdk init failed"}}))}},{key:"isPlayable",value:function(e,t){if(J){e.step,e.cameraBound;var n=F(e,["step","cameraBound"]);J.isPlayable(D({},n)).then((function(e){t(e)}))}else t(!1)}},{key:"asyncInsertFontFaces",value:function(e,t){(0,h.logger)("asyncInsertFontFaces",e);var n,r=I(e);try{var o=function(){var e=n.value,r=e["font-weight"],o=e["font-style"],a=e["unicode-range"],i=JSON.parse(JSON.stringify({weight:r,style:o,unicodeRange:a})),s=new FontFace(e["font-family"],e.src,i);s.load().then((function(n){(0,h.logger)("asyncInsertFontFaces load font success",e),document.fonts.add(s),t({success:!0,fontFace:e})})).catch((function(n){(0,h.logger)("asyncInsertFontFaces load font failed",e),t({success:!1,fontFace:e,error:n})}))};for(r.s();!(n=r.n()).done;)o()}catch(e){r.e(e)}finally{r.f()}}},{key:"updateNativeFontFaceCSS",value:function(e){(0,h.logger)("insertFontFaces",e);var t=document.getElementById(q);t||((t=document.createElement("style")).id=q,document.body.appendChild(t));var n=e.map((function(e){var t=Object.keys(e).reduce((function(t,n){return e[n].includes(" ")?"".concat(t,"\n").concat(n,': "').concat(e[n],'";'):"".concat(t,"\n").concat(n,": ").concat(e[n],";")}),"");return"@font-face {\n                ".concat(t,"\n            }")}));t.innerHTML=n.join("\n")}},{key:"updateNativeTextareaFont",value:function(e){(0,h.logger)("updateTextFont",e);var t=document.getElementById(X);t||((t=document.createElement("style")).id=X,document.body.appendChild(t));var n=e.map((function(e){return'"'.concat(e,'"')})).join(",");t.innerHTML=".netless-whiteboard textarea {\n            font-family: ".concat(n,"; \n        }")}},{key:"registerApp",value:function(e,t){if(e.javascriptString){var n=e.variable,r=Function("\n                    ".concat(e.javascriptString,";\n                    if (typeof ").concat(n,' == "undefined") {\n                        return undefined; \n                    } else {\n                        return ').concat(n,";\n                    } \n                    "))();if(!r)return void t(JSON.stringify({__error:{message:"variable does not exist"}}));m.WindowManager.register({kind:e.kind,src:r,appOptions:e.appOptions}).then((function(){return t()}))}else e.url&&m.WindowManager.register({kind:e.kind,src:e.url,appOptions:e.appOptions}).then((function(){return t()}))}}],n&&B(t.prototype,n),r&&B(t,r),e}()},42477:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SDKCallbackHandler=void 0;var r,o=(r=n(64037))&&r.__esModule?r:{default:r};function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.SDKCallbackHandler=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"onPostMessage",(function(e){o.default.call("sdk.postMessage",e)})),a(this,"onThrowError",(function(e){o.default.call("sdk.throwError",e)})),a(this,"onLogger",(function(e){o.default.call("sdk.logger",e)})),a(this,"onUrlInterrupter",(function(e){return o.default.call("sdk.urlInterrupter",e)})),a(this,"onSetupFail",(function(e){o.default.call("sdk.setupFail",{message:e.message,jsStack:e.stack})})),a(this,"onPPTLoadProgress",(function(e,t){})),a(this,"onPPTMediaPlay",(function(e,t){console.log("onPPTMediaPlay"),o.default.call("sdk.onPPTMediaPlay",{shapeId:e,type:t})})),a(this,"onPPTMediaPause",(function(e,t){o.default.call("sdk.onPPTMediaPause",{shapeId:e,type:t})}))}},44920:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketBridge=void 0;var r,o,a,i=(r=n(64037))&&r.__esModule?r:{default:r};function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){for(var t=window.atob(e),n=t.length,r=new Uint8Array(n),o=0;o<n;o++)r[o]=t.charCodeAt(o);return r.buffer}!function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"}(o||(o={})),a=WebSocket,WebSocket=function(e,t){return window.nativeWebSocket?new f(e):new a(e,t)};var l=0,f=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"binaryType","blob"),c(this,"key",void 0),c(this,"_readyState",o.CONNECTING),c(this,"_bufferedAmount",0),c(this,"listeners",{}),c(this,"onceListeners",{}),c(this,"_onError",(function(e){n.key===e.key&&(console.log("_onError: ",e),n.dispatchEvent("error",e))})),c(this,"_onMessage",(function(e){n.key===e.key&&("arraybuffer"===e.type?n.dispatchEvent("message",{data:u(e.data),key:n.key}):n.dispatchEvent("message",{data:e.data,key:n.key}))})),c(this,"_onClose",(function(e){n.key===e.key&&(console.log("_onClose: ",e),n._readyState=o.CLOSED,n.dispatchEvent("close",e))})),c(this,"_onOpen",(function(e){n.key===e.key&&(console.log("_onOpen"),n._readyState=o.OPEN,n.dispatchEvent("open",{}))})),this.key=l,l+=1,this.registerBridge(),i.default.call("ws.setup",{url:t,key:this.key})}var t,n,r;return t=e,(n=[{key:"send",value:function(e){if(e instanceof ArrayBuffer){var t=function(e){for(var t=new Uint8Array(e),n="",r=t.length,o=0;o<r;o++)n+=String.fromCharCode(t[o]);return window.btoa(n)}(e);i.default.call("ws.send",{data:t,type:"arraybuffer",key:this.key})}else i.default.call("ws.send",{data:e,type:"string",key:this.key})}},{key:"close",value:function(e,t){console.log("close: ",{code:e,reason:t}),this._readyState=o.CLOSING,i.default.call("ws.close",{code:e,reason:t,key:this.key})}},{key:"addEventListener",value:function(e,t,n){this.listeners[e]=this.listeners[e]||[],this.onceListeners[e]=this.onceListeners[e]||[],n&&!0!==n&&n.once?this.onceListeners[e].push(t):this.listeners[e].push(t)}},{key:"removeEventListener",value:function(e,t,n){if(e in this.listeners){for(var r=this.listeners[e],o=0,a=r.length;o<a;o++)if(r[o]===t){r.splice(o,1);break}for(var i=this.onceListeners[e],s=0,c=i.length;s<c;s++)if(i[s]===t){i.splice(s,1);break}}}},{key:"dispatchEvent",value:function(e,t){if(!(e in this.listeners))return!0;for(var n=this.listeners[e].slice(),r=0,o=n.length;r<o;r++)n[r].call(this,t);for(var a=this.onceListeners[e].slice(),i=0,s=a.length;i<s;i++)a[i].call(this,t),a.splice(i,1);return!0}},{key:"registerBridge",value:function(){i.default.register("ws",{onError:this._onError,onMessage:this._onMessage,onClose:this._onClose,onOpen:this._onOpen})}},{key:"readyState",get:function(){return this._readyState}},{key:"bufferedAmount",get:function(){return this._bufferedAmount}}])&&s(t.prototype,n),r&&s(t,r),e}();t.WebSocketBridge=f},36037:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n(67867),n(36470),n(76866),n(49320),n(70076),n(65427),n(38094),n(87272),n(20899),n(34062),n(89730),n(21175),n(81083),n(35749),n(27542),n(82203),n(19908),n(83909),n(54961),n(20628),n(97059),n(95377),n(3476),n(60188),n(22683),n(18059),n(29851),n(54196),n(87506),n(874),n(64925),n(12599),n(13764),n(81474),n(5371),n(45044),n(7125),n(79566),n(3317),n(64929),n(76542),n(51886),n(77804),n(6746),n(85640),n(80684),n(83836),n(78898),n(52792),n(51482),n(22199),n(89209),n(90777),n(38794),n(13292),n(66024),n(59078),n(10356),n(9805),n(92071),n(38347),n(40680),n(90750),n(62122),n(19460),n(21373),n(61590),n(32718),n(54003),n(48943),n(86157),n(22188),n(23870),n(77061),n(69325),n(81305),n(21191),n(52193),n(35123),n(76643),n(4715),n(36509),n(93134),n(47706),n(40022),n(29160),n(22646),n(18021),n(87956),n(97663),n(91622),n(13809),n(79474),n(99508),n(48018),n(46264),n(98132),n(47128),n(77878),n(94744),n(85463),n(31084),n(30947),n(85618),n(15482),n(31482),n(57050),n(5680),n(79484),n(74944),n(21731),n(32222),n(69907),n(41607),n(531),n(20298),n(6442),n(6205),n(39765),n(20825),n(34825),n(78482),n(86470),n(942),n(93885),n(64850),n(95976),n(22748),n(74743),n(47303),n(51401),n(87160),n(62971),n(88393),n(13641),n(82476),n(47659),n(19668),n(53650),n(50192),n(82580),n(96333),n(2650),n(18758),n(87853),n(78844),n(84289),n(97026),n(54829),n(40572),n(35401),n(85566),n(47779),n(22990),n(77054),n(46820),n(6253),n(31904),n(44043),n(72544),n(2517),n(40366),n(31144),n(69526),n(77716),n(24062),n(44006),n(42671),n(44786),n(24179),n(10733),n(31008),n(72019),n(27846),n(13987),Object.defineProperty(t,"__esModule",{value:!0}),t.whiteboardContainerId=void 0,n(66763),n(59048),n(74172),n(44920);var o=b(n(17328)),a=b(n(29640)),i=g(n(6167)),s=n(99047),c=n(61918),u=g(n(90945)),l=n(34570),f=n(70689),d=n(28388),p=n(38789),m=n(88655),y=n(25413);function g(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function b(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}a.render(o.createElement(i.default,null),document.getElementById("root"));var v="whiteboard-container";t.whiteboardContainerId=v,(0,f.registerSDKBridge)(),(0,d.registerBridge)([f.sdkNameSpace,l.displayerNameSpace,l.asyncDisplayerNameSpace,y.roomNamespace,y.pptNamespace,y.roomSyncNamespace,y.roomStateNamespace,m.playerNameSpace,m.playerStateNameSpace],p.logger),window.registerApp=c.WindowManager.register,window.setBackgroundColor=function(e,t,n,r){var o=document.getElementById(v);if(o){var a="rgb(".concat(e,", ").concat(t,", ").concat(n,")");o.style.background=a}else console.log(v,"not exist")},window.html2canvas=u.default,(0,s.addExamples)()},51126:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertBound=function(e){if(!e)return;return{centerX:e.centerX,centerY:e.centerY,width:e.width,height:e.height,maxContentMode:a(e.maxContentMode),minContentMode:a(e.minContentMode)}};var r=n(71895),o=n(71897);function a(e){if(e){var t=void 0===e.scale?1:e.scale,n=void 0===e.space?0:e.space;o.ScaleMode.Scale;switch("string"==typeof e.mode?parseInt(o.ScaleMode[e.mode]):e.mode){case o.ScaleMode.Scale:return(0,r.contentModeScale)(t);case o.ScaleMode.AspectFill:return(0,r.contentModeAspectFill)();case o.ScaleMode.AspectFillScale:return(0,r.contentModeAspectFillScale)(t);case o.ScaleMode.AspectFit:return(0,r.contentModeAspectFit)();case o.ScaleMode.AspectFitScale:return(0,r.contentModeAspectFitScale)(t);case o.ScaleMode.AspectFitSpace:return(0,r.contentModeAspectFitSpace)(n);default:return}}}},28388:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerBridge=function(e,t){var n,r=window._dsaf,o=i(Object.getOwnPropertyNames(r));try{for(o.s();!(n=o.n()).done;){var s=n.value;if("_obs"===s){var c,u=r[s],l=i(Object.getOwnPropertyNames(u));try{for(l.s();!(c=l.n()).done;){var f=c.value;if(e.includes(f)){var d,p=u[f],m=i(Object.getOwnPropertyNames(p));try{var y=function(){var e=d.value,n=p[e];p[e]=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t.apply(void 0,[e].concat(a(o.slice(0,-1)))),n.apply(void 0,o)}};for(m.s();!(d=m.n()).done;)y()}catch(e){m.e(e)}finally{m.f()}}}}catch(e){l.e(e)}finally{l.f()}}}}catch(e){o.e(e)}finally{o.f()}var g,h=window._dsf,b=i(Object.getOwnPropertyNames(h));try{for(b.s();!(g=b.n()).done;){var v=g.value;if("_obs"===v){var w,S=h[v],P=i(Object.getOwnPropertyNames(S));try{for(P.s();!(w=P.n()).done;){var O=w.value;if(e.includes(O)){var k,C=S[O],M=i(Object.getOwnPropertyNames(C));try{var j=function(){var e=k.value,n=C[e];C[e]=function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t.apply(void 0,[e].concat(o)),n.apply(void 0,o)}};for(M.s();!(k=M.n()).done;)j()}catch(e){M.e(e)}finally{M.f()}}}}catch(e){P.e(e)}finally{P.f()}}}}catch(e){b.e(e)}finally{b.f()}},t.isRoom=function(e){return void 0===e.roomUUID},t.globalErrorEvent=function(e){o.sdkCallbackHandler.onThrowError({message:e.message,error:e.error})},t.createPageState=function(e){return e?{pageState:{index:e.index,length:e.scenes.length}}:{}},t.postCustomMessage=function(e){var t=e.data;"pptImageLoadError"===t.name&&o.sdkCallbackHandler.onPostMessage(JSON.stringify(t));"iframe"===t.name&&o.sdkCallbackHandler.onPostMessage(JSON.stringify(t));t.shapeId&&t.mediaType&&t.action&&o.sdkCallbackHandler.onPostMessage(JSON.stringify(t));t.customMessage&&o.sdkCallbackHandler.onPostMessage(JSON.stringify(t))},t.usePrevious=function(e){var t=(0,r.useRef)();return(0,r.useEffect)((function(){t.current=e})),t.current};var r=n(17328),o=n(70689);function a(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=s(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,a=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function s(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},54505:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hookCreateElement=function(){var e=document.createElement;if(e.toString().includes('addEventListener("error"'))return;console.log("interrupt document.createElement success"),document.createElement=function(t,n){var r=e.call(this,t,n);return"IMG"===r.nodeName&&r.addEventListener("error",o,{once:!0}),r}};var r=n(28388);function o(e){var t={error:e,message:e.message,src:this.currentSrc,customMessage:!0,name:"imageLoadError"};(0,r.postCustomMessage)({data:t})}},38789:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setShowLog=function(e){s=e},t.logger=function(e){if(s){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];c.apply(void 0,[e].concat(n))}},t.report=c;var r=n(70689);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=!1;function c(e){for(var t,n,i,s=arguments.length,c=new Array(s>1?s-1:0),u=1;u<s;u++)c[u-1]=arguments[u];((t=console).log.apply(t,[e].concat(a(c))),window.room)&&(c=c.map((function(e){return"object"===o(e)?JSON.stringify(e):e})),(n=window.room.logger).info.apply(n,[e].concat(a(c))));i=0===c.length?void 0:1===c.length?c[0]:c.every((function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e}))?c.join(" "):c,r.sdkCallbackHandler.onLogger({funName:e,params:i})}},71897:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ScaleMode=void 0,t.ScaleMode=n,function(e){e[e.Scale=0]="Scale",e[e.AspectFit=1]="AspectFit",e[e.AspectFitScale=2]="AspectFitScale",e[e.AspectFitSpace=3]="AspectFitSpace",e[e.AspectFill=4]="AspectFill",e[e.AspectFillScale=5]="AspectFillScale"}(n||(t.ScaleMode=n={}))},89774:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postIframeMessage=function(e,t){var n={name:"parentWindow",payload:e},r=document.getElementsByTagName("iframe");if(r.length>0&&r[0].contentWindow){var o=r[0];null==t||t("postmessage",n),o.contentWindow.postMessage(n,"*")}else 0==r.length?null==t||t("postmessage","no frames exist"):null==t||t("postmessage","no conentWindow")}},25893:function(){},75042:function(){},65586:function(){}},function(e){e.O(0,[378,83,791,736],(function(){return t=36037,e(e.s=t);var t}));e.O()}]);